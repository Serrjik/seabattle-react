{"version":3,"sources":["components/BattleField.jsx","components/SeaBattle.jsx","hooks/useSeaBattle.js","components/BattleFieldTable.jsx","components/Ship.jsx","components/Shot.jsx","pages/BotPage.jsx","pages/EditorPage.jsx","pages/MainPage.jsx","App.js","reportWebVitals.js","index.js","components/styles.module.css","pages/styles.module.css"],"names":["BattleField","props","children","style","className","styles","battlefield","SeaBattleContext","createContext","SeaBattle","cellSize","value","useMemo","Provider","defaultProps","useSeaBattle","useContext","BattleFieldTable","columns","rows","signed","axisX","axisY","matrix","y","row","x","item","push","map","markerX","markerY","marker","left","top","width","height","n","Ship","length","direction","killed","along","across","offsetX","offsetY","classNames","ship","BotPage","EditorPage","MainPage","container","to","action","App","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.39e54d8c.chunk.js","sourcesContent":["import styles from \"./styles.module.css\"\r\n\r\n// Этот компонент объединит в себе BattleFieldTable, Ship, Shot.\r\nconst BattleField = props => {\r\n\tconst { children, style = {} } = props\r\n\r\n\treturn <div className={styles.battlefield} style={style}>{children}</div>\r\n}\r\n\r\nexport default BattleField","import { createContext, useMemo } from \"react\";\r\nimport PropTypes from 'prop-types'\r\n\r\nexport const SeaBattleContext = createContext()\r\n\r\nconst SeaBattle = props => {\r\n\tconst { cellSize, children } = props\r\n\t// Размер ячейки игрового поля.\r\n\tconst value = useMemo(() => ({ cellSize }), [cellSize])\r\n\r\n\treturn (\r\n\t\t<SeaBattleContext.Provider value={value}>\r\n\t\t\t{children}\r\n\t\t</SeaBattleContext.Provider>\r\n\t)\r\n}\r\n\r\nexport default SeaBattle\r\n\r\nSeaBattle.propTypes = {\r\n\tcellSize: PropTypes.number.isRequired\r\n}\r\n\r\nSeaBattle.defaultProps = {\r\n\tcellSize: 32\r\n}","import { useContext } from \"react\";\r\nimport { SeaBattleContext } from \"../components/SeaBattle\";\r\n\r\nconst useSeaBattle = () => useContext(SeaBattleContext)\r\n\r\nexport default useSeaBattle","import { useSeaBattle } from \"../hooks\"\r\nimport styles from \"./styles.module.css\"\r\nimport PropTypes from 'prop-types'\r\n\r\n// Здесь хранится разлиновка (матрица) игрового поля.\r\nconst BattleFieldTable = props => {\r\n\tconst { columns, rows, signed, axisX, axisY } = props\r\n\tconst { cellSize } = useSeaBattle()\r\n\r\n\tconst matrix = []\r\n\r\n\tfor (let y = 0; y < rows; y++) {\r\n\t\tconst row = []\r\n\r\n\t\tfor (let x = 0; x < columns; x++) {\r\n\t\t\tconst item = { x, y }\r\n\t\t\trow.push(item)\r\n\t\t}\r\n\r\n\t\tmatrix.push(row)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<table className={styles['battlefield-table']}>\r\n\t\t\t<tbody>\r\n\t\t\t\t{matrix.map((row, y) => (\r\n\t\t\t\t\t<tr key={y}>\r\n\t\t\t\t\t\t{row.map((item, x) => {\r\n\t\t\t\t\t\t\tlet markerX = null\r\n\t\t\t\t\t\t\tlet markerY = null\r\n\r\n\t\t\t\t\t\t\tif (signed) {\r\n\t\t\t\t\t\t\t\tif (x === 0) {\r\n\t\t\t\t\t\t\t\t\tmarkerX = (\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={styles.marker}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ left: `-${cellSize}px` }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{axisX(y)}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (y === 0) {\r\n\t\t\t\t\t\t\t\t\tmarkerY = (\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={styles.marker}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ top: `-${cellSize}px` }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{axisY(x)}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\tkey={x}\r\n\t\t\t\t\t\t\t\t\tclassName={styles['battlefield-item']}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\twidth: `${cellSize}px`,\r\n\t\t\t\t\t\t\t\t\t\theight: `${cellSize}px`,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{markerX}\r\n\t\t\t\t\t\t\t\t\t{markerY}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t))}\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t)\r\n}\r\n\r\nexport default BattleFieldTable\r\n\r\nBattleFieldTable.propTypes = {\r\n\tcolumns: PropTypes.number,\r\n\trows: PropTypes.number,\r\n\tsigned: PropTypes.bool,\r\n\taxisX: PropTypes.func,\r\n\taxisY: PropTypes.func,\r\n}\r\n\r\nBattleFieldTable.defaultProps = {\r\n\tcolumns: 10,\r\n\trows: 10,\r\n\tsigned: true,\r\n\taxisX: n => n + 1,\r\n\taxisY: n => 'АБВГДЕЖЗИКЛМНОПРСТУФХЦЧШЩЫЭЮЯ'[n], // не более 29\r\n}","import { useSeaBattle } from \"../hooks\"\r\nimport PropTypes from 'prop-types'\r\nimport styles from \"./styles.module.css\"\r\nimport { useMemo } from \"react\"\r\nimport classNames from \"classnames\"\r\n\r\nconst Ship = props => {\r\n\tconst { x, y, length, direction, killed } = props\r\n\t// Размер ячейки игрового поля.\r\n\tconst { cellSize } = useSeaBattle()\r\n\r\n\tconst style = useMemo(() => {\r\n\t\tconst style = {}\r\n\r\n\t\t// Длина корабля.\r\n\t\tconst along = length * cellSize + length - 1\r\n\t\t// Ширина корабля.\r\n\t\tconst across = cellSize\r\n\r\n\t\tif (direction === 'row') {\r\n\t\t\tstyle.width = `${along}px`\r\n\t\t\tstyle.height = `${across}px`\r\n\t\t}\r\n\r\n\t\telse {\r\n\t\t\tstyle.width = `${across}px`\r\n\t\t\tstyle.height = `${along}px`\r\n\t\t}\r\n\r\n\t\tconst offsetX = x * (cellSize + 1)\r\n\t\tconst offsetY = y * (cellSize + 1)\r\n\r\n\t\tstyle.left = `${offsetX}px`\r\n\t\tstyle.top = `${offsetY}px`\r\n\r\n\t\treturn style\r\n\t}, [cellSize, direction, length, x, y])\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classNames(styles.ship, {\r\n\t\t\t\t[styles['ship-killed']]: killed,\r\n\t\t\t})}\r\n\t\t\tstyle={style}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Ship\r\n\r\nShip.propTypes = {\r\n\tx: PropTypes.number.isRequired,\r\n\ty: PropTypes.number.isRequired,\r\n\tlength: PropTypes.number.isRequired,\r\n\tdirection: PropTypes.oneOf([\"row\", \"column\"]).isRequired,\r\n\tkilled: PropTypes.bool.isRequired,\r\n}\r\n\r\nShip.defaultProps = {\r\n\tkilled: false,\r\n}","import { useSeaBattle } from \"../hooks\"\r\nimport styles from \"./styles.module.css\"\r\nimport classNames from 'classnames'\r\nimport PropTypes from 'prop-types'\r\nimport { useMemo } from \"react\"\r\n\r\nconst Shot = props => {\r\n\tconst { x, y, status } = props\r\n\t// Размер ячейки игрового поля.\r\n\tconst { cellSize } = useSeaBattle()\r\n\r\n\tconst style = useMemo(() => {\r\n\t\tconst style = {\r\n\t\t\twidth: `${cellSize}px`,\r\n\t\t\theight: `${cellSize}px`,\r\n\t\t}\r\n\r\n\t\tconst offsetX = x * (cellSize + 1)\r\n\t\tconst offsetY = y * (cellSize + 1)\r\n\r\n\t\tstyle.left = `${offsetX}px`\r\n\t\tstyle.top = `${offsetY}px`\r\n\r\n\t\treturn style\r\n\t}, [cellSize, x, y])\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={style}\r\n\t\t\tclassName={classNames({\r\n\t\t\t\t[styles.shot]: true,\r\n\t\t\t\t[styles['shot-missed']]: status === 'missed',\r\n\t\t\t\t[styles['shot-hitted']]: status === 'hitted',\r\n\t\t\t})}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Shot\r\n\r\nShot.propTypes = {\r\n\tx: PropTypes.number.isRequired,\r\n\ty: PropTypes.number.isRequired,\r\n\tstatus: PropTypes.oneOf([\"hitted\", \"missed\"]).isRequired,\r\n}","const BotPage = () => {\r\n\treturn <p>BotPage</p>\r\n}\r\n\r\nexport default BotPage","const EditorPage = () => {\r\n\treturn <p>EditorPage</p>\r\n}\r\n\r\nexport default EditorPage","import styles from \"./styles.module.css\"\r\nimport { BattleField, BattleFieldTable, Ship, Shot } from \"../components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst MainPage = () => {\r\n\treturn (\r\n\t\t<div className={styles.container}>\r\n\t\t\t<div className={styles['main-content']}>\r\n\t\t\t\t<BattleField>\r\n\t\t\t\t\t<BattleFieldTable\r\n\t\t\t\t\t\tcolumns={12}\r\n\t\t\t\t\t\trows={5}\r\n\t\t\t\t\t\t// signed={false}\r\n\t\t\t\t\t\taxisX={n => n + 1}\r\n\t\t\t\t\t\taxisY ={n => 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'[n]}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Ship x={0} y={0} length={4} direction=\"row\" />\r\n\t\t\t\t\t<Ship x={2} y={2} length={2} direction=\"column\" />\r\n\t\t\t\t</BattleField>\r\n\r\n\t\t\t\t<div className={styles['main-actions']}>\r\n\t\t\t\t\t<Link to='/editor'>\r\n\t\t\t\t\t\t<button className={styles.action}>\r\n\t\t\t\t\t\t\tРедактировать\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to='/bot'>\r\n\t\t\t\t\t\t<button className={styles.action}>\r\n\t\t\t\t\t\t\tИграть с ботом\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<button className={styles.action}>Играть онлайн</button>\r\n\t\t\t\t\t<button className={styles.action}>Бросить вызов</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<BattleField>\r\n\t\t\t\t\t<BattleFieldTable />\r\n\t\t\t\t</BattleField>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default MainPage","import { BattleField, BattleFieldTable, Ship, Shot } from \"./components\";\n\nimport { Switch, Route, Link } from \"react-router-dom\";\n\nimport { BotPage, EditorPage, MainPage } from \"./pages\"\n\nconst App = () => {\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path='/editor' component={EditorPage} />\n\t\t\t<Route path='/bot' component={BotPage} />\n\t\t\t<Route path='/' component={MainPage} />\n\t\t</Switch>\n\t)\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { SeaBattle } from \"./components\";\n\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter>\n\t\t\t<SeaBattle cellSize={30}>\n\t\t\t\t<App />\n\t\t\t</SeaBattle>\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"battlefield\":\"styles_battlefield__A2NY1\",\"battlefield-table\":\"styles_battlefield-table__32pXh\",\"battlefield-item\":\"styles_battlefield-item__3kMIM\",\"battlefield-item__hovered\":\"styles_battlefield-item__hovered__1OK8r\",\"battlefield-status\":\"styles_battlefield-status__1Unnm\",\"marker\":\"styles_marker__3tkXR\",\"ship\":\"styles_ship__2vKas\",\"ship-killed\":\"styles_ship-killed__18zZB\",\"shot\":\"styles_shot__1uHcJ\",\"shot-missed\":\"styles_shot-missed__3eUV7\",\"shot-hitted\":\"styles_shot-hitted__36zV-\",\"dock\":\"styles_dock__VyE9s\",\"battlefield-constructor\":\"styles_battlefield-constructor__2lmeR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2JT4u\",\"main-content\":\"styles_main-content__2pmLT\",\"main-actions\":\"styles_main-actions__ltxD6\",\"editor-actions\":\"styles_editor-actions__1QfaX\",\"action\":\"styles_action__3ZDz5\"};"],"sourceRoot":""}